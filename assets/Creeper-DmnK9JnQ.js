import{a as M,b as _,c as z,S as L,P as W,W as b,G as A,A as E,d as g,g as H}from"./index-Eqpng4bS.js";import{d as I,r as X,g as Y,D as f,M as j,P as k}from"./index-CELJtENO.js";const F=I({__name:"Creeper",setup(G){const{width:v,height:P}=M(),t=X(null),{elementX:S,elementY:x}=_(t),{width:p,height:h}=z(t),c=new L,e=new W(75,window.innerWidth/window.innerHeight,.1,1e3),n=new b;n.setSize(1,1);const C=new A;let d=null;Y(()=>{if(t.value){t.value.appendChild(n.domElement);const o=t.value.clientWidth,i=t.value.clientHeight;n.setSize(o,i),e.aspect=o/i,e.updateProjectionMatrix(),e.position.z=25,n.setClearColor(0,0);const r=new E(16777215,3);c.add(r);const a=new g(16777215,3);a.position.set(5,5,5),c.add(a);const l=new g(16777215,3);l.position.set(-5,-5,-5),c.add(l),C.load("model/scene.gltf",s=>{d=s.scene,d.rotation.z=3*Math.PI/13,c.add(s.scene),u();const w=p.value,m=h.value;n.setSize(w,m),e.aspect=w/m,e.updateProjectionMatrix()},void 0,s=>{console.error("An error happened",s)})}});function u(){window.requestAnimationFrame(u),n.render(c,e)}return f([S,x],([o,i])=>{if(d){const r=v.value/2,a=P.value/2,l=o/r,s=i/a;H.to(d.rotation,{y:(l*Math.PI-.3)/16,x:(s*Math.PI+.3)/8,duration:.9,ease:"power2.out"})}}),f([h,p],([o,i])=>{const r=o,a=i;n.setSize(r,a),e.aspect=r/a,e.updateProjectionMatrix()}),(o,i)=>(k(),j("div",{class:"creeper min-w-[150px] min-h-[150px] box-border",ref_key:"creeperContainer",ref:t},null,512))}});export{F as default};
